<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <!--<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">-->

    <title> Dashboard </title>
    <meta name="description" content="Ability to add IoT platforms">
    <meta name="author" content="Hydrobase">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <!-- Basic Styles -->
    <link rel="stylesheet" type="text/css" media="screen" href="../../static/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="../../static/css/typicons.css">

    <!-- SmartAdmin Styles : Caution! DO NOT change the order -->
    <link rel="stylesheet" type="text/css" media="screen" href="../../static/css/smartadmin-production-plugins.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="../../static/css/smartadmin-production.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="../../static/css/smartadmin-skins.min.css">

    <!-- SmartAdmin RTL Support  -->
    <link rel="stylesheet" type="text/css" media="screen" href="../../static/css/smartadmin-rtl.min.css">

    <!-- We recommend you use "your_style.css" to override SmartAdmin
         specific styles this will also ensure you retrain your customization with each SmartAdmin update.-->
    <link rel="stylesheet" type="text/css" media="screen" href="../../static/css/custom_style.css">

    <!-- Demo purpose only: goes with demo.js, you can delete this css when designing your own WebApp
    <link rel="stylesheet" type="text/css" media="screen" href="css/demo.min.css">-->

    <!-- FAVICONS -->
    <link rel="shortcut icon" href="../../static/img/favicon/favicon_new.ico" type="image/x-icon">
    <link rel="icon" href="../../static/img/favicon/favicon_new.ico" type="image/x-icon">

    <!-- GOOGLE FONT -->
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,300,400,700">

    <!-- Specifying a Webpage Icon for Web Clip
         Ref: https://developer.apple.com/library/ios/documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/ConfiguringWebApplications.html -->
    <link rel="apple-touch-icon" href="../../static/img/splash/sptouch-icon-iphone.png">
    <link rel="apple-touch-icon" sizes="76x76" href="../../static/img/splash/touch-icon-ipad.png">
    <link rel="apple-touch-icon" sizes="120x120" href="../../static/img/splash/touch-icon-iphone-retina.png">
    <link rel="apple-touch-icon" sizes="152x152" href="../../static/img/splash/touch-icon-ipad-retina.png">

    <!-- iOS web-app metas : hides Safari UI Components and Changes Status Bar Appearance -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <!-- Startup image for web apps -->
    <link rel="apple-touch-startup-image" href="../../static/img/splash/ipad-landscape.png" media="screen and (min-device-width: 481px) and (max-device-width: 1024px) and (orientation:landscape)">
    <link rel="apple-touch-startup-image" href="../../static/img/splash/ipad-portrait.png" media="screen and (min-device-width: 481px) and (max-device-width: 1024px) and (orientation:portrait)">
    <link rel="apple-touch-startup-image" href="../../static/img/splash/iphone.png" media="screen and (max-device-width: 320px)">


    <!--Real Time Graphing dependencies-->
    <link href="../../static/css/c3.css" rel="stylesheet" type="text/css">
    <script src="../../static/js/d3/d3.min.js" charset="utf-8"></script>
    <script src="../../static/js/c3/c3.min.js"></script>
    <script src="../../static/js/pubnub/pubnub-3.14.5.min.js"></script>

</head>

<body class="smart-style-3 fixed-header fixed-navigation">

<!-- HEADER -->
<header id="header">
    <div id="logo-group">

        <!-- PLACE YOUR LOGO HERE -->
        <span id="logo"><a href="/index"> <img src="../../static/img/logo1.png" alt="SmartAdmin"></a></span>
        <!-- END LOGO PLACEHOLDER -->

        <!-- Note: The activity badge color changes when clicked and resets the number to 0
        Suggestion: You may want to set a flag when this happens to tick off all checked messages / notifications -->
        <span id="activity" class="activity-dropdown hidden-xs"> <i class="fa fa-exclamation-circle"></i> <b class="badge"> 21 </b> </span>

        <!-- AJAX-DROPDOWN : control this dropdown height, look and feel from the LESS variable file -->
        <div class="ajax-dropdown">

            <!-- the ID links are fetched via AJAX to the ajax container "ajax-notifications" -->
            <div class="btn-group btn-group-justified" data-toggle="buttons">
                <label class="btn btn-default">
                    <input type="radio" name="activity" id="ajax/notify/mail.html">
                    Msgs (14) </label>
                <label class="btn btn-default">
                    <input type="radio" name="activity" id="ajax/notify/notifications.html">
                    notify (3) </label>
                <label class="btn btn-default">
                    <input type="radio" name="activity" id="ajax/notify/tasks.html">
                    Tasks (4) </label>
            </div>

            <!-- notification content -->
            <div class="ajax-notifications custom-scroll">

                <div class="alert alert-transparent">
                    <h4>Click a button to show messages here</h4>
                    This blank page message helps protect your privacy, or you can show the first message here automatically.
                </div>

                <i class="fa fa-lock fa-4x fa-border"></i>

            </div>
            <!-- end notification content -->

        </div>
        <!-- END AJAX-DROPDOWN -->
    </div>

    <!-- pulled right: nav area -->
    <div class="pull-right">

        <!-- collapse menu button -->
        <div id="hide-menu" class="btn-header pull-right">
            <span> <a href="javascript:void(0);" data-action="toggleMenu" title="Collapse Menu"><i class="fa fa-reorder"></i></a> </span>
        </div>
        <!-- end collapse menu -->

        <!-- #MOBILE -->
        <!-- Top menu profile link : this shows only when top menu is active -->
        <ul id="mobile-profile-img" class="header-dropdown-list hidden-xs padding-5">
            <li class="">
                <a href="#" class="dropdown-toggle no-margin userdropdown" data-toggle="dropdown">
                    <img src="../../static/img/avatars/sunny.png" alt="John Doe" class="online" />
                </a>
                <ul class="dropdown-menu pull-right">
                    <li>
                        <a href="javascript:void(0);" class="padding-10 padding-top-0 padding-bottom-0"><i class="fa fa-cog"></i> Setting</a>
                    </li>
                    <li class="divider"></li>
                    <li>
                        <a href="profile.html" class="padding-10 padding-top-0 padding-bottom-0"> <i class="fa fa-user"></i> <u>P</u>rofile</a>
                    </li>
                    <li class="divider"></li>
                    <li>
                        <a href="javascript:void(0);" class="padding-10 padding-top-0 padding-bottom-0" data-action="toggleShortcut"><i class="fa fa-arrow-down"></i> <u>S</u>hortcut</a>
                    </li>
                    <li class="divider"></li>
                    <li>
                        <a href="javascript:void(0);" class="padding-10 padding-top-0 padding-bottom-0" data-action="launchFullscreen"><i class="fa fa-arrows-alt"></i> Full <u>S</u>creen</a>
                    </li>
                    <li class="divider"></li>
                    <li>
                        <a href="login.html" class="padding-10 padding-top-5 padding-bottom-5" data-action="userLogout"><i class="fa fa-sign-out fa-lg"></i> <strong><u>L</u>ogout</strong></a>
                    </li>
                </ul>
            </li>
        </ul>

        <!-- logout button -->
        <div id="logout" class="btn-header transparent pull-right">
            <span> <a href="/logout" title="Sign Out" data-action="userLogout" data-logout-msg="You can improve your security further after logging out by closing this opened browser"><i class="fa fa-sign-out"></i></a> </span>
        </div>
        <!-- end logout button -->

        <!-- fullscreen button -->
        <div id="fullscreen" class="btn-header transparent pull-right">
            <span> <a href="javascript:void(0);" data-action="launchFullscreen" title="Full Screen"><i class="fa fa-arrows-alt"></i></a> </span>
        </div>
        <!-- end fullscreen button -->

    </div>
    <!-- end pulled right: nav area -->

</header>
<!-- END HEADER -->

<!-- Left panel : Navigation area -->
<!-- Note: This width of the aside area can be adjusted through LESS variables -->
<aside id="left-panel">

    <!-- User info -->
    <div class="login-info">
				<span> <!-- User image size is adjusted inside CSS, it should stay as it -->

					<a href="javascript:void(0);" id="show-shortcut" data-action="toggleShortcut">
                        <img src="{{'../../static/img/users/'+username+'.jpeg'}}" alt="me" class="online" />
						<span>
							{{username}}
						</span>
                        <i class="fa fa-angle-down"></i>
                    </a>

				</span>
    </div>
    <!-- end user info -->

    <!-- NAVIGATION : This navigation is also responsive-->
    <nav>
        <ul>
            <li class="active">
                <a href="/dashboard" title="Dashboard"><i class="fa fa-lg fa-fw fa-home"></i> <span class="menu-item-parent">Dashboard</span></a>
            </li>
            <li>
                <a href="/devices"><i class="fa fa-lg fa-fw fa-cogs"></i> <span class="menu-item-parent">Devices</span></a>
            </li>
            <li>
                <a href="#"><i class="fa fa-lg fa-fw fa-pagelines"></i> <span class="menu-item-parent">Grows</span></a>
                <ul>
                    {% for grow in my_grows %}
                    <li>
                        <a href="{{'/grows/'+grow[0]}}">{{grow[0]}}</a>
                    </li>
                    {% endfor %}
                </ul>
            </li>
            <li>
                <a href="/plant_profiles"><i class="fa fa-lg fa-fw fa-pencil-square-o"></i> <span class="menu-item-parent">Plant Profiles</span></a>
            </li>
            <li>
                <a href="/documentation"><i class="fa fa-lg fa-fw fa-file-text"></i> <span class="menu-item-parent">Documentation</span></a>
            </li>
        </ul>
    </nav>
        <span class="minifyme" data-action="minifyMenu">
            <i class="fa fa-arrow-circle-left hit"></i>
        </span>

</aside>
<!-- END NAVIGATION -->

<!-- MAIN PANEL -->
<div id="main" role="main">
    <!-- RIBBON -->
    <div id="ribbon">

				<span class="ribbon-button-alignment">
					<span id="refresh" class="btn btn-ribbon" data-action="resetWidgets" data-title="refresh"  rel="tooltip" data-placement="bottom" data-original-title="<i class='text-warning fa fa-warning'></i> Warning! This will reset all your widget settings." data-html="true">
						<i class="fa fa-refresh"></i>
					</span>
				</span>

        <!-- breadcrumb -->
        <ol class="breadcrumb">
            <li>Hydrosmart</li><li>Dashboard</li>
        </ol>
        <!-- end breadcrumb -->

        <!-- You can also add more buttons to the
        ribbon for further usability

        Example below:

        <span class="ribbon-button-alignment pull-right">
        <span id="search" class="btn btn-ribbon hidden-xs" data-title="search"><i class="fa-grid"></i> Change Grid</span>
        <span id="add" class="btn btn-ribbon hidden-xs" data-title="add"><i class="fa-plus"></i> Add</span>
        <span id="search" class="btn btn-ribbon" data-title="search"><i class="fa-search"></i> <span class="hidden-mobile">Search</span></span>
        </span> -->

    </div>
    <!-- END RIBBON -->

    <!-- MAIN CONTENT -->
    <div id="content">

        <div class="row">
            <div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
                <h1 class="page-title txt-color-blueDark"><i class="fa-fw fa fa-home"></i> Dashboard</h1>
            </div>
        </div>

        <!--Bryan Pull form Anubhav
        <div class="row">
            <div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
                <h5 class="page-title txt-color-blueDark text-center"><i class="fa-fw fa fa-cogs "></i> Sensors</h5>
            </div>
            <div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
                <h5 class="page-title txt-color-blueDark text-center"><i class="fa-fw fa fa-pagelines"></i> Grows</h5>
            </div>
            <div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
                <h5 class="page-title txt-color-blueDark text-center"><i class="fa-fw fa fa-clock-o"></i> Time</h5>
            </div>
        </div>
        -->
        <section id="widget-grid">
            <!-- start row -->
            <div class="row">
                <article class="col-xs-12 col-sm-12 col-md-12 col-lg-6">

                    <!-- Widget ID (each widget will need unique ID)-->
                    <div class="jarviswidget" id="wid-id-Lux_realTime" data-widget-editbutton="false" data-widget-togglebutton="false" data-widget-colorbutton="false" data-widget-deletebutton="false" data-widget-custombutton="false" data-widget-sortable="false" data-widget-fullscreenbutton="false">
                        <header>
                            <span class="widget-icon"> <i class="typcn_lrg typcn-weather-sunny"></i> </span>
                            <h2>Lux</h2>

                        </header>

                        <!-- widget div-->
                        <div>
                            <!-- widget content -->
                            <div class="widget-body no-padding">
                                <hr class="simple">

                                <div class="tab-content padding-10">
                                    <div class="tab-pane fade in active" id="lux_chart_tab">
                                        <div id="Lux_chartDiv" style="width:100%"></div>
                                    </div>

                                </div>

                            </div>
                            <!-- end widget content -->

                        </div>
                        <!-- end widget div -->

                    </div>
                    <!-- end widget -->

                </article>
                <article class="col-xs-12 col-sm-12 col-md-12 col-lg-6">

                    <!-- Widget ID (each widget will need unique ID)-->
                    <div class="jarviswidget" id="wid-id-humidity_realTime" data-widget-editbutton="false" data-widget-togglebutton="false" data-widget-colorbutton="false" data-widget-deletebutton="false" data-widget-custombutton="false" data-widget-sortable="false">
                        <header>
                            <span class="widget-icon"> <i class="typcn_lrg typcn-waves-outline"></i> </span>
                            <h2>Humidity</h2>

                        </header>

                        <!-- widget div-->
                        <div>

                            <!-- widget edit box -->
                            <div class="jarviswidget-editbox">
                                <!-- This area used as dropdown edit box -->

                            </div>
                            <!-- end widget edit box -->

                            <!-- widget content -->
                            <div class="widget-body no-padding">
                                <hr class="simple">

                                <div class="tab-content padding-10">
                                    <div class="tab-pane fade in active" id="humidity_chart_tab">
                                        <div id="humidity_chartDiv" style="width:100%"></div>
                                    </div>

                                </div>

                            </div>
                            <!-- end widget content -->

                        </div>
                        <!-- end widget div -->

                    </div>
                    <!-- end widget -->

                </article>
                <article class="col-xs-12 col-sm-12 col-md-12 col-lg-6">

                    <!-- Widget ID (each widget will need unique ID)-->
                    <div class="jarviswidget" id="wid-id-ec_realTime" data-widget-editbutton="false" data-widget-togglebutton="false" data-widget-colorbutton="false" data-widget-deletebutton="false" data-widget-custombutton="false" data-widget-sortable="false" data-widget-fullscreenbutton="false">
                        <header>
                            <span class="widget-icon"> <i class="typcn_lrg typcn-flash"></i> </span>
                            <h2>EC</h2>

                        </header>

                        <!-- widget div-->
                        <div>

                            <!-- widget edit box -->
                            <div class="jarviswidget-editbox">
                                <!-- This area used as dropdown edit box -->

                            </div>
                            <!-- end widget edit box -->

                            <!-- widget content -->
                            <div class="widget-body no-padding">
                                <hr class="simple">

                                <div class="tab-content padding-10">
                                    <div class="tab-pane fade in active" id="ec_chart_tab">
                                        <div id="ec_chartDiv" style="width:100%"></div>
                                    </div>

                                </div>

                            </div>
                            <!-- end widget content -->

                        </div>
                        <!-- end widget div -->

                    </div>
                    <!-- end widget -->

                </article>
                <article class="col-xs-12 col-sm-12 col-md-12 col-lg-6">

                    <!-- Widget ID (each widget will need unique ID)-->
                    <div class="jarviswidget" id="wid-id-tds_realTime" data-widget-editbutton="false" data-widget-togglebutton="false" data-widget-colorbutton="false" data-widget-deletebutton="false" data-widget-custombutton="false" data-widget-sortable="false" data-widget-fullscreenbutton="false">
                        <header>
                            <span class="widget-icon"> <i class="typcn_lrg typcn-pipette"></i> </span>
                            <h2>TDS</h2>

                        </header>

                        <!-- widget div-->
                        <div>

                            <!-- widget edit box -->
                            <div class="jarviswidget-editbox">
                                <!-- This area used as dropdown edit box -->

                            </div>
                            <!-- end widget edit box -->

                            <!-- widget content -->
                            <div class="widget-body no-padding">
                                <hr class="simple">

                                <div class="tab-content padding-10">
                                    <div class="tab-pane fade in active" id="tds_chart_tab">
                                        <div id="tds_chartDiv" style="width:100%"></div>
                                    </div>

                                </div>

                            </div>
                            <!-- end widget content -->

                        </div>
                        <!-- end widget div -->

                    </div>
                    <!-- end widget -->

                </article>
                <article class="col-xs-12 col-sm-12 col-md-12 col-lg-6">

                    <!-- Widget ID (each widget will need unique ID)-->
                    <div class="jarviswidget" id="wid-id-ps_realTime" data-widget-editbutton="false" data-widget-togglebutton="false" data-widget-colorbutton="false" data-widget-deletebutton="false" data-widget-custombutton="false" data-widget-sortable="false" data-widget-fullscreenbutton="false">
                        <header>
                            <span class="widget-icon"> <i class="typcn_lrg typcn-weather-snow"></i> </span>
                            <h2>PS</h2>

                        </header>

                        <!-- widget div-->
                        <div>

                            <!-- widget edit box -->
                            <div class="jarviswidget-editbox">
                                <!-- This area used as dropdown edit box -->

                            </div>
                            <!-- end widget edit box -->

                            <!-- widget content -->
                            <div class="widget-body no-padding">
                                <hr class="simple">

                                <div class="tab-content padding-10">
                                    <div class="tab-pane fade in active" id="ps_chart_tab">
                                        <div id="ps_chartDiv" style="width:100%"></div>
                                    </div>

                                </div>

                            </div>
                            <!-- end widget content -->

                        </div>
                        <!-- end widget div -->

                    </div>
                    <!-- end widget -->

                </article>
                <article class="col-xs-12 col-sm-12 col-md-12 col-lg-6">

                    <!-- Widget ID (each widget will need unique ID)-->
                    <div class="jarviswidget" id="wid-id-pH_realTime" data-widget-editbutton="false" data-widget-togglebutton="false" data-widget-colorbutton="false" data-widget-deletebutton="false" data-widget-custombutton="false" data-widget-sortable="false" data-widget-fullscreenbutton="false">
                        <header>
                            <span class="widget-icon"> <i class="typcn_lrg typcn-beaker"></i> </span>
                            <h2>pH</h2>

                        </header>

                        <!-- widget div-->
                        <div>

                            <!-- widget edit box -->
                            <div class="jarviswidget-editbox">
                                <!-- This area used as dropdown edit box -->

                            </div>
                            <!-- end widget edit box -->

                            <!-- widget content -->
                            <div class="widget-body no-padding">
                                <hr class="simple">

                                <div class="tab-content padding-10">
                                    <div class="tab-pane fade in active" id="pH_chart_tab">
                                        <div id="pH_chartDiv" style="width:100%"></div>
                                    </div>

                                </div>

                            </div>
                            <!-- end widget content -->

                        </div>
                        <!-- end widget div -->

                    </div>
                    <!-- end widget -->

                </article>
                <article class="col-xs-12 col-sm-12 col-md-12 col-lg-6">

                    <!-- Widget ID (each widget will need unique ID)-->
                    <div class="jarviswidget" id="wid-id-airTemp_realTime" data-widget-editbutton="false" data-widget-togglebutton="false" data-widget-colorbutton="false" data-widget-deletebutton="false" data-widget-custombutton="false" data-widget-sortable="false" data-widget-fullscreenbutton="false">
                        <header>
                            <span class="widget-icon"> <i class="typcn_lrg typcn-thermometer"></i> </span>
                            <h2>Air Temp.</h2>

                        </header>

                        <!-- widget div-->
                        <div>

                            <!-- widget edit box -->
                            <div class="jarviswidget-editbox">
                                <!-- This area used as dropdown edit box -->

                            </div>
                            <!-- end widget edit box -->

                            <!-- widget content -->
                            <div class="widget-body no-padding">
                                <hr class="simple">

                                <div class="tab-content padding-10">
                                    <div class="tab-pane fade in active" id="airTemp_chart_tab">
                                        <div id="airTemp_chartDiv" style="width:100%"></div>
                                    </div>

                                </div>

                            </div>
                            <!-- end widget content -->

                        </div>
                        <!-- end widget div -->

                    </div>
                    <!-- end widget -->

                </article>
                <article class="col-xs-12 col-sm-12 col-md-12 col-lg-6">

                    <!-- Widget ID (each widget will need unique ID)-->
                    <div class="jarviswidget" id="wid-id-waterTemp_realTime" data-widget-editbutton="false" data-widget-togglebutton="false" data-widget-colorbutton="false" data-widget-deletebutton="false" data-widget-custombutton="false" data-widget-sortable="false" data-widget-fullscreenbutton="false">
                        <header>
                            <span class="widget-icon"> <i class="typcn_lrg typcn-thermometer"></i> </span>
                            <h2>Water Temp.</h2>

                        </header>

                        <!-- widget div-->
                        <div>

                            <!-- widget edit box -->
                            <div class="jarviswidget-editbox">
                                <!-- This area used as dropdown edit box -->

                            </div>
                            <!-- end widget edit box -->

                            <!-- widget content -->
                            <div class="widget-body no-padding">
                                <hr class="simple">

                                <div class="tab-content padding-10">
                                    <div class="tab-pane fade in active" id="waterTemp_chart_tab">
                                        <div id="waterTemp_chartDiv" style="width:100%"></div>
                                    </div>

                                </div>

                            </div>
                            <!-- end widget content -->

                        </div>
                        <!-- end widget div -->

                    </div>
                    <!-- end widget -->

                </article>
            </div>

        </section>

    </div>
    <!-- END MAIN CONTENT -->
</div>
<!-- END MAIN PANEL -->

<!-- PAGE FOOTER -->
<div class="page-footer">
    <div class="row">
        <div class="col-xs-12 col-sm-12 text-right hidden-xs">
            <div class="txt-color-white inline-block">
                <i class="txt-color-blueLight hidden-mobile">You Look Great Today </i>
            </div>
        </div>
    </div>
</div>
<!-- END PAGE FOOTER -->

<!-- SHORTCUT AREA : With large tiles (activated via clicking user name tag)
Note: These tiles are completely responsive,
you can add as many as you like
-->
<div id="shortcut">
    <ul>
        <li>
            <a href="/edit_profile" class="jarvismetro-tile big-cubes selected bg-color-pinkDark"> <span class="iconbox"> <i class="fa fa-user fa-4x"></i> <span>My Profile </span> </span> </a>
        </li>
    </ul>
</div>
<!-- END SHORTCUT AREA -->

<!--================================================== -->

<!-- PACE LOADER - turn this on if you want ajax loading to show (caution: uses lots of memory on iDevices)
<script data-pace-options='{ "restartOnRequestAfter": false }' src="js/plugin/pace/pace.min.js"></script>-->

<!-- Link to Google CDN's jQuery + jQueryUI; fall back to local -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script>
    if (!window.jQuery) {
        document.write('<script src="../../static/js/libs/jquery-2.1.1.min.js"><\/script>');
    }
</script>

<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
<script>
    if (!window.jQuery.ui) {
        document.write('<script src="../../static/js/libs/jquery-ui-1.10.3.min.js"><\/script>');
    }
</script>

<!-- IMPORTANT: APP CONFIG -->
<script src="../../static/js/app.config.js"></script>

<!-- JS TOUCH : include this plugin for mobile drag / drop touch events-->
<script src="../../static/js/plugin/jquery-touch/jquery.ui.touch-punch.min.js"></script>

<!-- BOOTSTRAP JS -->
<script src="../../static/js/bootstrap/bootstrap.min.js"></script>

<!-- CUSTOM NOTIFICATION -->
<script src="../../static/js/notification/SmartNotification.min.js"></script>

<!-- JARVIS WIDGETS -->
<script src="../../static/js/smartwidgets/jarvis.widget.min.js"></script>

<!-- EASY PIE CHARTS -->
<script src="../../static/js/plugin/easy-pie-chart/jquery.easy-pie-chart.min.js"></script>

<!-- SPARKLINES -->
<script src="../../static/js/plugin/sparkline/jquery.sparkline.min.js"></script>

<!-- JQUERY VALIDATE -->
<script src="../../static/js/plugin/jquery-validate/jquery.validate.min.js"></script>

<!-- JQUERY MASKED INPUT -->
<script src="../../static/js/plugin/masked-input/jquery.maskedinput.min.js"></script>

<!-- JQUERY SELECT2 INPUT -->
<script src="../../static/js/plugin/select2/select2.min.js"></script>

<!-- JQUERY UI + Bootstrap Slider -->
<script src="../../static/js/plugin/bootstrap-slider/bootstrap-slider.min.js"></script>

<!-- browser msie issue fix -->
<script src="../../static/js/plugin/msie-fix/jquery.mb.browser.min.js"></script>

<!-- FastClick: For mobile devices -->
<script src="../../static/js/plugin/fastclick/fastclick.min.js"></script>

<!--[if IE 8]>

<h1>Your browser is out of date, please update your browser by going to www.microsoft.com/download</h1>

<![endif]-->

<!-- Demo purpose only -->
<!--<script src="js/demo.min.js"></script>-->

<!-- MAIN APP JS FILE -->
<script src="../../static/js/app.min.js"></script>

<script src="../../static/js/amcharts/amcharts.js" type="text/javascript"></script>
<script src="../../static/js/amcharts/serial.js" type="text/javascript"></script>






<script>
    $(document).ready(function() {

        // DO NOT REMOVE : GLOBAL FUNCTIONS!
        pageSetUp();

        /*
         * PAGE RELATED SCRIPTS
         */

        $(".js-status-update a").click(function() {
            var selText = $(this).text();
            var $this = $(this);
            $this.parents('.btn-group').find('.dropdown-toggle').html(selText + ' <span class="caret"></span>');
            $this.parents('.dropdown-menu').find('li').removeClass('active');
            $this.parent().addClass('active');
        });

        /*Graphing*/
        /*Graph Sizing*/
        var page_height = $(window).height();
        var graph_state = 0;
        $('#Lux_chartDiv').css("height", page_height/1.8+"px");
        $('#pH_chartDiv').css("height", page_height/1.8+"px");
        $('#humidity_chartDiv').css("height", page_height/1.8+"px");
        $('#ec_chartDiv').css("height", page_height/1.8+"px");
        $('#tds_chartDiv').css("height", page_height/1.8+"px");
        $('#ps_chartDiv').css("height", page_height/1.8+"px");
        $('#airTemp_chartDiv').css("height", page_height/1.8+"px");
        $('#waterTemp_chartDiv').css("height", page_height/1.8+"px");

        $('a[class="button-icon jarviswidget-fullscreen-btn"]').click(function () {
            if (graph_state == 0){
                $('#Lux_chartDiv').css("height", (page_height - 128) + "px");
                $('#pH_chartDiv').css("height", (page_height - 128) + "px");
                $('#humidity_chartDiv').css("height", (page_height - 128) + "px");
                $('#ec_chartDiv').css("height", (page_height - 128) + "px");
                $('#tds_chartDiv').css("height", page_height + "px");
                $('#ps_chartDiv').css("height", page_height + "px");
                $('#airTemp_chartDiv').css("height", page_height + "px");
                $('#waterTemp_chartDiv').css("height", page_height + "px");
                graph_state = 1;
            } else if (graph_state == 1) {
                $('#Lux_chartDiv').css("height", page_height/1.8+"px");
                $('#pH_chartDiv').css("height", page_height/1.8+"px");
                $('#humidity_chartDiv').css("height", page_height/1.8+"px");
                $('#ec_chartDiv').css("height", page_height/1.8+"px");
                $('#tds_chartDiv').css("height", page_height/1.8+"px");
                $('#ps_chartDiv').css("height", page_height/1.8+"px");
                $('#airTemp_chartDiv').css("height", page_height/1.8+"px");
                $('#waterTemp_chartDiv').css("height", page_height/1.8+"px");
                graph_state = 0;
            }
        });
    });

</script>

<script>

    var pubnub = PUBNUB.init({
        publish_key   : 'pub-c-93c6c384-e1a0-412f-87cf-e626aaab6a00',
        subscribe_key : 'sub-c-8ec9d89e-e4aa-11e5-a4f2-0619f8945a4f',
        auth_key : '40ed6434-1991-4f7a-8034-20a072abde43'
    });

    var lux_chart = c3.generate({
        data: {
            json: [
                {lux: {{seed_data[0]['lux'][0]}}},
                {lux: {{seed_data[0]['lux'][1]}}},
                {lux: {{seed_data[0]['lux'][2]}}},
                {lux: {{seed_data[0]['lux'][3]}}},
                {lux: {{seed_data[0]['lux'][4]}}},
                {lux: {{seed_data[0]['lux'][5]}}},
                {lux: {{seed_data[0]['lux'][6]}}},
                {lux: {{seed_data[0]['lux'][7]}}},
                {lux: {{seed_data[0]['lux'][8]}}},
                {lux: {{seed_data[0]['lux'][9]}}}
            ],
            keys: {
                value: ['lux']
            },
            type: 'line',
            colors: {lux: '#FF9E3A'}
        },
        axis: {
            y: {
                tick: {
                    format: function(d){return d3.round(d,4)}
                }
            }
        },
        bindto: '#Lux_chartDiv'
    });

    var humidity_chart = c3.generate({
        data: {
            json: [
                {humidity: {{seed_data[0]['humidity'][0]}}},
                {humidity: {{seed_data[0]['humidity'][1]}}},
                {humidity: {{seed_data[0]['humidity'][2]}}},
                {humidity: {{seed_data[0]['humidity'][3]}}},
                {humidity: {{seed_data[0]['humidity'][4]}}},
                {humidity: {{seed_data[0]['humidity'][5]}}},
                {humidity: {{seed_data[0]['humidity'][6]}}},
                {humidity: {{seed_data[0]['humidity'][7]}}},
                {humidity: {{seed_data[0]['humidity'][8]}}},
                {humidity: {{seed_data[0]['humidity'][9]}}}
            ],
            keys: {
                value: ['humidity']
            },
            type: 'line',
            colors: {
                humidity: '7BE9FF'
            }
        },
        axis: {
            y: {
                tick: {
                    format: function(d){return d3.round(d,4)}
                }
            }
        },
        bindto: '#humidity_chartDiv'
    });
    var airTemp_chart = c3.generate({
        data: {
            json: [
                {airTemp: {{seed_data[0]['airTemp'][0]}}},
                {airTemp: {{seed_data[0]['airTemp'][1]}}},
                {airTemp: {{seed_data[0]['airTemp'][2]}}},
                {airTemp: {{seed_data[0]['airTemp'][3]}}},
                {airTemp: {{seed_data[0]['airTemp'][4]}}},
                {airTemp: {{seed_data[0]['airTemp'][5]}}},
                {airTemp: {{seed_data[0]['airTemp'][6]}}},
                {airTemp: {{seed_data[0]['airTemp'][7]}}},
                {airTemp: {{seed_data[0]['airTemp'][8]}}},
                {airTemp: {{seed_data[0]['airTemp'][9]}}}
            ],
            keys: {
                value: ['airTemp']
            },
            type: 'line',
            colors: {
                airTemp: '40BF9E'
            }
        },
        axis: {
            y: {
                tick: {
                    format: function(d){return d3.round(d,4)}
                }
            }
        },
        bindto: '#airTemp_chartDiv'
    });
    var waterTemp_chart = c3.generate({
        data: {
            json: [
                {waterTemp: {{seed_data[0]['waterTemp'][0]}}},
                {waterTemp: {{seed_data[0]['waterTemp'][1]}}},
                {waterTemp: {{seed_data[0]['waterTemp'][2]}}},
                {waterTemp: {{seed_data[0]['waterTemp'][3]}}},
                {waterTemp: {{seed_data[0]['waterTemp'][4]}}},
                {waterTemp: {{seed_data[0]['waterTemp'][5]}}},
                {waterTemp: {{seed_data[0]['waterTemp'][6]}}},
                {waterTemp: {{seed_data[0]['waterTemp'][7]}}},
                {waterTemp: {{seed_data[0]['waterTemp'][8]}}},
                {waterTemp: {{seed_data[0]['waterTemp'][9]}}}
            ],
            keys: {
                value: ['waterTemp']
            },
            type: 'line',
            colors: {
                waterTemp: '3D73B5'
            }
        },
        axis: {
            y: {
                tick: {
                    format: function(d){return d3.round(d,4)}
                }
            }
        },
        bindto: '#waterTemp_chartDiv'
    });
    var pH_chart = c3.generate({
        data: {
            json: [
                {pH: {{seed_data[0]['pH'][0]}}},
                {pH: {{seed_data[0]['pH'][1]}}},
                {pH: {{seed_data[0]['pH'][2]}}},
                {pH: {{seed_data[0]['pH'][3]}}},
                {pH: {{seed_data[0]['pH'][4]}}},
                {pH: {{seed_data[0]['pH'][5]}}},
                {pH: {{seed_data[0]['pH'][6]}}},
                {pH: {{seed_data[0]['pH'][7]}}},
                {pH: {{seed_data[0]['pH'][8]}}},
                {pH: {{seed_data[0]['pH'][9]}}}
            ],
            keys: {
                value: ['pH']
            },
            type: 'line',
            colors: {
                pH: '#7F9FD4'
            }
        },
        axis: {
            y: {
                tick: {
                    format: function(d){return d3.round(d,4)}
                }
            }
        },
        bindto: '#pH_chartDiv'
    });
    var EC_chart = c3.generate({
        data: {
            json: [
                {EC: {{seed_data[0]['EC'][0]}}},
                {EC: {{seed_data[0]['EC'][1]}}},
                {EC: {{seed_data[0]['EC'][2]}}},
                {EC: {{seed_data[0]['EC'][3]}}},
                {EC: {{seed_data[0]['EC'][4]}}},
                {EC: {{seed_data[0]['EC'][5]}}},
                {EC: {{seed_data[0]['EC'][6]}}},
                {EC: {{seed_data[0]['EC'][7]}}},
                {EC: {{seed_data[0]['EC'][8]}}},
                {EC: {{seed_data[0]['EC'][9]}}}
            ],
            keys: {
                value: ['EC']
            },
            type: 'line',
            colors: {
                EC: '#3D73B5'
            }
        },
        axis: {
            y: {
                tick: {
                    format: function(d){return d3.round(d,4)}
                }
            }
        },
        bindto: '#ec_chartDiv'
    });
    var TDS_chart = c3.generate({
        data: {
            json: [
                {TDS: {{seed_data[0]['TDS'][0]}}},
                {TDS: {{seed_data[0]['TDS'][1]}}},
                {TDS: {{seed_data[0]['TDS'][2]}}},
                {TDS: {{seed_data[0]['TDS'][3]}}},
                {TDS: {{seed_data[0]['TDS'][4]}}},
                {TDS: {{seed_data[0]['TDS'][5]}}},
                {TDS: {{seed_data[0]['TDS'][6]}}},
                {TDS: {{seed_data[0]['TDS'][7]}}},
                {TDS: {{seed_data[0]['TDS'][8]}}},
                {TDS: {{seed_data[0]['TDS'][9]}}}
            ],
            keys: {
                value: ['TDS']
            },
            type: 'line',
            colors: {
                TDS: '#40BF9E'
            }
        },
        axis: {
            y: {
                tick: {
                    format: function(d){return d3.round(d,4)}
                }
            }
        },
        bindto: '#tds_chartDiv'
    });
    var PS_chart = c3.generate({
        data: {
            json: [
                {PS: {{seed_data[0]['PS'][0]}}},
                {PS: {{seed_data[0]['PS'][1]}}},
                {PS: {{seed_data[0]['PS'][2]}}},
                {PS: {{seed_data[0]['PS'][3]}}},
                {PS: {{seed_data[0]['PS'][4]}}},
                {PS: {{seed_data[0]['PS'][5]}}},
                {PS: {{seed_data[0]['PS'][6]}}},
                {PS: {{seed_data[0]['PS'][7]}}},
                {PS: {{seed_data[0]['PS'][8]}}},
                {PS: {{seed_data[0]['PS'][9]}}}
            ],
            keys: {
                value: ['PS']
            },
            type: 'line',
            colors: {
                PS: '#FF8048'
            }
        },
        axis: {
            y: {
                tick: {
                    format: function(d){return d3.round(d,4)}
                }
            }
        },
        bindto: '#ps_chartDiv'
    });



    pubnub.subscribe({
        channel:'admin',
        message: function (m) {
            if (Object.keys(m).indexOf('sender') == 0) {
                /*console.log('lux: ' + m.lux);
                console.log('humidity: ' + m.humidity);
                console.log('airTemp: ' + m.airTemp);
                console.log('waterTemp: ' + m.waterTemp);
                console.log('EC Sanity Check: ' + m.EC.split(','));
                console.log('EC: ' + m.EC.split(',')[0]);
                console.log('TDS: ' + m.EC.split(',')[1]);
                console.log('PS: ' + m.EC.split(',')[2]);
                console.log('pH: ' + parseFloat(m.pH));*/
                lux_chart.flow({
                    json: [
                        m
                    ],
                    keys: {
                        value: ['lux']
                    }
                });
                humidity_chart.flow({
                    json: [
                        m
                    ],
                    keys: {
                        value: ['humidity']
                    }
                });
                airTemp_chart.flow({
                    json: [
                        m
                    ],
                    keys: {
                        value: ['airTemp']
                    }
                });
                waterTemp_chart.flow({
                    json: [
                        m
                    ],
                    keys: {
                        value: ['waterTemp']
                    }
                });
                pH_chart.flow({
                    json: [
                        {pH: parseFloat(m.pH)}
                    ],
                    keys: {
                        value: ['pH']
                    }
                });
                EC_chart.flow({
                    json: [
                        {EC: parseFloat(m.EC.split(',')[0])}
                    ],
                    keys: {
                        value: ['EC']
                    }
                });
                TDS_chart.flow({
                    json: [
                        {TDS: parseFloat(m.EC.split(',')[1])}
                    ],
                    keys: {
                        value: ['TDS']
                    }
                });
                PS_chart.flow({
                    json: [
                        {PS: parseFloat(m.EC.split(',')[2])}
                    ],
                    keys: {
                        value: ['PS']
                    }
                });
            }
        }
    });
</script>

<!-- Your GOOGLE ANALYTICS CODE Below -->
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-XXXXXXXX-X']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script');
        ga.type = 'text/javascript';
        ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
    })();

</script>



</body>

</html>